:numbered:

== First Analysis

.If you have jumped directly to here
************************************************
You might be so eager to start that you have jumped directly here without reading any of the background material.
This is fine as long as you know what you are doing!
To start this chapter, should:

* Make sure you can open a *terminal or powershell window*.
* Make sure you have a *pass:[c++] compiler* (we use `pass:[g++]`) and the *make tool* installed.
* Make sure you have *git* installed.
* Make sure you have the *GDAL utilities* installed and working.
* Get some topographic data and convert it to *projected coordinates* (we prefer WGS1984 UTM projections).
* Make sure you have *python* with *scipy* including *numpy* and *matplotlib* working on your computer.
************************************************

If you understand all of the preliminary steps, you are ready to move on to your first analysis.
If not, the previous chapters will get you up to speed.

include::sections/prepare-data-and-folders.asc[]

include::sections/get-the-code.asc[]

include::sections/running-your-first-analysis.asc[]





.. _run-analysis

Running the analyses (in this case, writing fill and hillshade rasters)
---------------------------------------------------------------------------

  #. You need to run the program (``LSDTT_analysis_from_paramfile.out``) from the folder containing the program.
     Hopefully you have followed my advice and have two terminal windows open, one open in the folder
     with the data, and one in the folder with the program ``LSDTT_analysis_from_paramfile.out``. You'll be working
     in this latter window.

  #. ``LSDTT_analysis_from_paramfile.out`` runs with two arguments:

       #. The path to the parameter file.
       #. The name of the parameter file.

  #. You should have already found the path to your data (go to your data folder and type ``pwd``). The name of the parameter
     file includes extension. So to run the program you type this::

       ./LSDTT_analysis_from_paramfile.out /home/smudd/topographic_tools/topographic_data/NextMap/Scotland Whiteadder.LSDTT_driver

     The ``./`` is a linux thing. When you run programs you tell linux that the program is in this directory with ``./``.

  #. Once you've entered this, there will be some output to screen telling you what the code is doing, and then it will finish.

  #. ``LSDTT_analysis_from_paramfile.out`` has put the output in the data folder, so use ``ls`` in this folder to see if the data is there::

       smudd@burn Scotland $ ls
       Example.LSDTT_driver       WhiteadderDEM.tif    Whiteadder_hs.hdr
       WhiteadderDEM.bil          Whiteadder_fill.bil  Whiteadder.LSDTT_driver
       WhiteadderDEM.bil.aux.xml  Whiteadder_fill.hdr
       WhiteadderDEM.hdr          Whiteadder_hs.bil
       smudd@burn Scotland $

   #. Hey, look at that! There are a bunch of new files. There are two new rasters, each with a ``bil`` file and a ``hdr`` file.
      These are the fill raster: ``Whiteadder_fill.bil`` and the hillshade raster ``Whiteadder_hs.bil``.

Look at the output in QGIS
---------------------------------------------------------------------------

  #. Now that you've done some analyses, you can look at the data in QGIS. Start QGIS. Then open the resulting raster
     using the ``Add raster layers`` dialog:

       .. image:: ./_images/QGIS/AddRaster.jpg

  #. Choose the raster. You want the ``bil`` files:

       .. image:: ./_images/QGIS/OpenRaster.jpg

  #. If you open the hillshade, you should get a nice pretty picture like this:

       .. image:: ./_images/QGIS/WAHS.jpg

  #. Great! Now you have got a handle on some of the basics of running ``LSDTT_analysis_from_paramfile.out``
     and looking at the results.



=== Summary

You can extract some simple metrics from a DEM.
