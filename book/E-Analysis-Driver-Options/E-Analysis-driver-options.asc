[appendix]
== Analysis Driver Options

LSDTopoTools is composed of a number of objects (e.g., LSDRaster, LSDChannel, LSDFlowInfo, etc.) which are then called from programs we call driver functions.
For more information, see the appendix <<Code Structure>>.

Most of these functions drive specific kinds of analysis,
but we do have a general program capable of a number of different analyses.
This program is called the *AnalysisDriver* and is available here: https://github.com/LSDtopotools/LSDTopoTools_AnalysisDriver.

The analysis driver runs from parameter files.
In this appendix we document the options for running the AnalysisDriver from a parameter file.

The format of *AnalysisDriver* parameter files is a keyword followed by a value.
The value can be a string, an integer, a boolean or a floating point number depending on the keyword.
The order of the keywords does not matter.
Comments can be inserted into the parameter file using the hash symbol (`#`).

=== AnalysisDriver file input and output options

[cols="1,1,2", options="header"]
.File input and output options
|===
|Keyword
|Input type
|Description

|dem read extension
|string
|The type of data format used in reading rasters. Options are `bil`, `asc` and `flt`.

|dem write extension
|string
|The type of data format used in reading rasters. Options are `bil`, `asc` and `flt`.

|write path
|string
|The path to which data is written.

|read path
|string
|The path from which data is read.

|write fname
|string
|The prefix of rasters to be written *without extension*.
For example if this is `Test` and you have selected `bil` format then a fill operation will result in a file called `Test_Fill.bil`.

|read fname
|string
|The filename of the raster to be read without extension. For example if the raster is `MyRaster.bil`, read fname will be `MyRaster`.

|===

=== AnalysisDriver file files to write

IMPORTANT: These require booleans,
but in in the *AnalysisDriver* parameter file booleans must be *true*--anything else is considered false.
`true` is case sensitive, so *DO NOT* write `True`: it will be interpreted as false!!

[cols="1,1,2", options="header"]
.File input and output options
|===
|Keyword
|Input type
|Description

|write fill
|boolean
|Write a filled raster.

|write write trimmed and nodata filled
|boolean
|This is for data with nodata around the edges and holes of nodata in the middle.
The holes are filled and the nodata around the edges is trimmed.

|write hillshade
|boolean
|Write a hillshade raster.

|write slope
|boolean
|Write a slope raster.

|write curvature
|boolean
|Write a curvature raster.

|write planform curvature
|boolean
|Write a planform curvature raster.

|write tangential curvature
|boolean
|Write a tangential curvature raster.

|write profile curvature
|boolean
|Write a profile curvature raster.

|write aspect
|boolean
|Write an aspect raster.

|write topographic classification
|boolean
|Write a raster where convex, concave and planar regions are classified by an integer.

|write drainage area
|boolean
|Write a drainage area raster.

|write channel net
|boolean
|Write a channel network. This will print a raster of stream orders and a raster of junctions.

|write nodeindex
|boolean
|Writes a nodeindex raster. Used by developers for debugging.

|write write single thread channel
|boolean
|Writes a raster...Simon needs to go into the code since he can't remember what this does.

|write chi map
|boolean
|This calculates the chi coordinate (a coordinate that integrates drainage area along channel length) from all base level nodes.

|write factor of safety at saturation
|boolean
|Calculates the factor of safety using an infinite slope analysis (similar to http://hydrology.usu.edu/sinmap2/[Sinmap]
or http://calm.geo.berkeley.edu/geomorph//shalstab/theory.htm[Shalstab]).

|===
